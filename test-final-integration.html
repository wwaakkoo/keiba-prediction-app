<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆ - å®Œå…¨çµ±åˆã‚·ã‚¹ãƒ†ãƒ </title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .test-section { background: white; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #007bff; }
        .status { font-weight: bold; padding: 5px 10px; border-radius: 4px; margin: 5px 0; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
        .info { background: #d1ecf1; color: #0c5460; }
        .btn { padding: 10px 15px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: #212529; }
        .result-container { margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 5px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .feature-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin: 15px 0; }
        .feature-item { padding: 10px; background: #e8f4fd; border-radius: 6px; border-left: 3px solid #007bff; }
    </style>
</head>
<body>
    <h1>ğŸ¯ æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆ - å®Œå…¨çµ±åˆã‚·ã‚¹ãƒ†ãƒ </h1>
    
    <div class="test-section">
        <h2>ğŸš€ çµ±åˆã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦</h2>
        <p>ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã§å‹•ä½œã™ã‚‹å®Œå…¨çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã®å‹•ä½œç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚</p>
        
        <div class="feature-list">
            <div class="feature-item">
                <strong>ğŸ“Š åç›Šæ€§é‡è¦–ã‚·ã‚¹ãƒ†ãƒ </strong><br>
                æŠ•è³‡åŠ¹ç‡ãƒ»ç©´é¦¬ç™ºè¦‹ãƒ»ROIåˆ†æ
            </div>
            <div class="feature-item">
                <strong>ğŸ“ˆ ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ </strong><br>
                Chart.jsãƒ»å‹•çš„ã‚°ãƒ©ãƒ•ãƒ»çµ±è¨ˆã‚µãƒãƒªãƒ¼
            </div>
            <div class="feature-item">
                <strong>ğŸ¤– AIæ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ </strong><br>
                Claude APIãƒ»åç›Šæ€§è€ƒæ…®åˆ†æ
            </div>
            <div class="feature-item">
                <strong>ğŸ è¡€çµ±çµ±åˆã‚·ã‚¹ãƒ†ãƒ </strong><br>
                è¡€çµ±è©•ä¾¡ãƒ»é©æ€§åˆ†æ
            </div>
            <div class="feature-item">
                <strong>ğŸ§  ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰å­¦ç¿’</strong><br>
                çµ±è¨ˆãƒ»AIãƒ»åç›Šæ€§å­¦ç¿’
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>âš™ï¸ ã‚·ã‚¹ãƒ†ãƒ çµ±åˆç¢ºèª</h2>
        <div class="grid">
            <div>
                <h3>1. å…¨ã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿ç¢ºèª</h3>
                <div id="systemStatus"></div>
                <button class="btn btn-primary" onclick="testAllSystems()">å…¨ã‚·ã‚¹ãƒ†ãƒ ç¢ºèª</button>
            </div>
            <div>
                <h3>2. åç›Šæ€§ãƒ»ã‚°ãƒ©ãƒ•çµ±åˆç¢ºèª</h3>
                <div id="integrationStatus"></div>
                <button class="btn btn-primary" onclick="testIntegration()">çµ±åˆå‹•ä½œç¢ºèª</button>
            </div>
            <div>
                <h3>3. åˆ·æ–°ã•ã‚ŒãŸã‚°ãƒ©ãƒ•ç¢ºèª</h3>
                <div id="graphStatus"></div>
                <button class="btn btn-primary" onclick="testUpdatedGraphs()">åˆ·æ–°ã‚°ãƒ©ãƒ•ç¢ºèª</button>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h2>
        <div class="grid">
            <div>
                <h3>4. ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²ãƒ»å­¦ç¿’ãƒ†ã‚¹ãƒˆ</h3>
                <div id="learningStatus"></div>
                <button class="btn btn-success" onclick="testLearning()">å­¦ç¿’æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</button>
            </div>
            <div>
                <h3>5. å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ</h3>
                <div id="visualizationStatus"></div>
                <button class="btn btn-success" onclick="testVisualization()">å¯è¦–åŒ–ãƒ†ã‚¹ãƒˆ</button>
            </div>
            <div>
                <h3>6. çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ</h3>
                <div id="dashboardStatus"></div>
                <button class="btn btn-success" onclick="testDashboard()">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ</button>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š æœ€çµ‚çµ±åˆçµæœ</h2>
        <div id="finalResults"></div>
        <div class="result-container">
            <button class="btn btn-warning" onclick="runCompleteTest()">ğŸš€ å®Œå…¨çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <button class="btn btn-success" onclick="showSuccessMessage()">âœ… ãƒ†ã‚¹ãƒˆå®Œäº†å ±å‘Š</button>
        </div>
    </div>

    <!-- å¿…è¦ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èª­ã¿è¾¼ã¿ -->
    <script src="js/config.js"></script>
    <script src="js/pedigreeDatabase.js"></script>
    <script src="js/dataConverter.js"></script>
    <script src="js/horseManager.js"></script>
    <script src="js/dataManager.js"></script>
    <script src="js/raceAnalysisEngine.js"></script>
    <script src="js/predictionEngine.js"></script>
    <script src="js/bettingRecommender.js"></script>
    <script src="js/learningSystem.js"></script>
    <script src="js/hybridLearningSystem.js"></script>
    <script src="js/enhancedLearningSystem.js"></script>
    <script src="js/learningDataMigration.js"></script>
    <script src="js/enhancedVisualizationSystem.js"></script>
    <script src="js/aiRecommendationService.js"></script>
    <script src="js/profitabilityMetrics.js"></script>
    <script src="js/investmentEfficiencyCalculator.js"></script>
    <script src="js/underdogDiscoveryAlgorithm.js"></script>
    <script src="js/riskReturnAnalyzer.js"></script>
    <script src="js/profitabilityVisualizationSystem.js"></script>
    <script src="js/errorHandlingSystem.js"></script>
    <script src="js/systemIntegration.js"></script>
    <script src="js/main.js"></script>

    <script>
        // ãƒ†ã‚¹ãƒˆçµæœã‚’æ ¼ç´
        let finalTestResults = {};

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºé–¢æ•°
        function showMessage(message, type = 'info', duration = 3000) {
            console.log(`${type.toUpperCase()}: ${message}`);
        }

        // 1. å…¨ã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿ç¢ºèª
        function testAllSystems() {
            const statusDiv = document.getElementById('systemStatus');
            let results = [];
            
            const allSystems = [
                // åŸºæœ¬ã‚·ã‚¹ãƒ†ãƒ 
                { name: 'CONFIG', obj: window.CONFIG },
                { name: 'PedigreeDatabase', obj: window.PedigreeDatabase },
                { name: 'DataConverter', obj: window.DataConverter },
                { name: 'HorseManager', obj: window.HorseManager },
                { name: 'PredictionEngine', obj: window.PredictionEngine },
                { name: 'LearningSystem', obj: window.LearningSystem },
                { name: 'AIRecommendationService', obj: window.AIRecommendationService },
                
                // åç›Šæ€§ã‚·ã‚¹ãƒ†ãƒ 
                { name: 'ProfitabilityMetrics', obj: window.ProfitabilityMetrics },
                { name: 'InvestmentEfficiencyCalculator', obj: window.InvestmentEfficiencyCalculator },
                { name: 'UnderdogDiscoveryAlgorithm', obj: window.UnderdogDiscoveryAlgorithm },
                { name: 'RiskReturnAnalyzer', obj: window.RiskReturnAnalyzer },
                { name: 'EnhancedLearningSystem', obj: window.EnhancedLearningSystem },
                
                // ã‚°ãƒ©ãƒ•ãƒ»å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ 
                { name: 'ProfitabilityVisualizationSystem', obj: window.ProfitabilityVisualizationSystem },
                { name: 'EnhancedVisualizationSystem', obj: window.EnhancedVisualizationSystem },
                { name: 'LearningDataMigration', obj: window.LearningDataMigration },
                { name: 'Chart.js', obj: window.Chart }
            ];

            let loadedCount = 0;
            allSystems.forEach(system => {
                if (system.obj) {
                    results.push(`<div class="status success">âœ… ${system.name}</div>`);
                    loadedCount++;
                } else {
                    results.push(`<div class="status error">âŒ ${system.name}</div>`);
                }
            });

            results.push(`<div class="status info">ğŸ“Š èª­ã¿è¾¼ã¿ç‡: ${loadedCount}/${allSystems.length} (${((loadedCount/allSystems.length)*100).toFixed(1)}%)</div>`);
            statusDiv.innerHTML = results.join('');
            finalTestResults.systemLoading = loadedCount >= allSystems.length * 0.9; // 90%ä»¥ä¸Šã§æˆåŠŸ
        }

        // 2. çµ±åˆå‹•ä½œç¢ºèª
        function testIntegration() {
            const statusDiv = document.getElementById('integrationStatus');
            let results = [];
            
            try {
                // åç›Šæ€§ã‚·ã‚¹ãƒ†ãƒ ã¨ã‚°ãƒ©ãƒ•ã‚·ã‚¹ãƒ†ãƒ ã®é€£æºç¢ºèª
                if (typeof ProfitabilityMetrics !== 'undefined' && typeof ProfitabilityVisualizationSystem !== 'undefined') {
                    // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ
                    ProfitabilityMetrics.resetForTest();
                    results.push('<div class="status success">âœ… åç›Šæ€§ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚»ãƒƒãƒˆæˆåŠŸ</div>');
                    
                    // ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²
                    const testBet = {
                        horseNumber: '7',
                        horseName: 'çµ±åˆãƒ†ã‚¹ãƒˆé¦¬',
                        odds: 15.2,
                        betAmount: 1000,
                        isWin: true,
                        payout: 15200,
                        raceDate: new Date().toISOString().split('T')[0],
                        betType: 'win'
                    };
                    
                    const result = ProfitabilityMetrics.recordBetResult(testBet);
                    if (result) {
                        results.push(`<div class="status success">âœ… çµ±åˆãƒ‡ãƒ¼ã‚¿è¨˜éŒ²æˆåŠŸ (ROI: ${result.analysis.roi.toFixed(1)}%)</div>`);
                    }
                }

                // ã‚°ãƒ©ãƒ•ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ç¢ºèª
                if (typeof EnhancedVisualizationSystem !== 'undefined') {
                    if (!EnhancedVisualizationSystem.isInitialized) {
                        EnhancedVisualizationSystem.initialize();
                    }
                    results.push('<div class="status success">âœ… å¼·åŒ–å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–</div>');
                }

                if (typeof ProfitabilityVisualizationSystem !== 'undefined') {
                    if (!ProfitabilityVisualizationSystem.isInitialized) {
                        ProfitabilityVisualizationSystem.initialize();
                    }
                    results.push('<div class="status success">âœ… åç›Šæ€§å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–</div>');
                }

                finalTestResults.integration = true;
                
            } catch (error) {
                results.push(`<div class="status error">âŒ çµ±åˆãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}</div>`);
                finalTestResults.integration = false;
            }
            
            statusDiv.innerHTML = results.join('');
        }

        // 3. åˆ·æ–°ã•ã‚ŒãŸã‚°ãƒ©ãƒ•ç¢ºèª
        function testUpdatedGraphs() {
            const statusDiv = document.getElementById('graphStatus');
            let results = [];
            
            try {
                // æ–°ã—ã„ProfitabilityVisualizationSystemã®æ©Ÿèƒ½ç¢ºèª
                if (typeof ProfitabilityVisualizationSystem !== 'undefined') {
                    // createProfitabilityDashboardæ©Ÿèƒ½ç¢ºèª
                    if (typeof ProfitabilityVisualizationSystem.createProfitabilityDashboard === 'function') {
                        results.push('<div class="status success">âœ… åˆ·æ–°ã•ã‚ŒãŸåç›Šæ€§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½</div>');
                    }
                    
                    // TDDæ©Ÿèƒ½ç¢ºèª
                    if (ProfitabilityVisualizationSystem.config && ProfitabilityVisualizationSystem.config.colors) {
                        results.push('<div class="status success">âœ… TDDå®Ÿè£…æ¸ˆã¿ã‚°ãƒ©ãƒ•è¨­å®š</div>');
                    }
                }

                // EnhancedVisualizationSystemã®æ”¹è‰¯ç¢ºèª
                if (typeof EnhancedVisualizationSystem !== 'undefined') {
                    if (typeof EnhancedVisualizationSystem.updateAllCharts === 'function') {
                        results.push('<div class="status success">âœ… å¼·åŒ–ã‚°ãƒ©ãƒ•æ›´æ–°æ©Ÿèƒ½</div>');
                    }
                }

                finalTestResults.updatedGraphs = true;
                
            } catch (error) {
                results.push(`<div class="status error">âŒ ã‚°ãƒ©ãƒ•ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼: ${error.message}</div>`);
                finalTestResults.updatedGraphs = false;
            }
            
            statusDiv.innerHTML = results.join('');
        }

        // 4. å­¦ç¿’æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
        function testLearning() {
            const statusDiv = document.getElementById('learningStatus');
            let results = [];
            
            try {
                // å¼·åŒ–å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
                if (typeof EnhancedLearningSystem !== 'undefined') {
                    const testResults = {
                        winner: { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î±', odds: 8.5, popularity: 5 },
                        placeHorses: [
                            { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î±', odds: 8.5 },
                            { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î²', odds: 3.2 },
                            { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î³', odds: 12.1 }
                        ]
                    };
                    
                    const testPredictions = [
                        { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î±', score: 82 },
                        { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î²', score: 78 },
                        { name: 'ãƒ†ã‚¹ãƒˆé¦¬Î³', score: 65 }
                    ];
                    
                    const learningResult = EnhancedLearningSystem.processLearning(testResults, testPredictions);
                    if (learningResult) {
                        results.push('<div class="status success">âœ… å¼·åŒ–å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèª</div>');
                    }
                }

                // çµ±åˆå­¦ç¿’æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆprocessUnifiedRaceResulté–¢æ•°ã®ç¢ºèªï¼‰
                if (typeof processUnifiedRaceResult === 'function') {
                    results.push('<div class="status success">âœ… çµ±åˆãƒ¬ãƒ¼ã‚¹çµæœå‡¦ç†æ©Ÿèƒ½</div>');
                }

                finalTestResults.learning = true;
                
            } catch (error) {
                results.push(`<div class="status error">âŒ å­¦ç¿’ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}</div>`);
                finalTestResults.learning = false;
            }
            
            statusDiv.innerHTML = results.join('');
        }

        // 5. å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
        function testVisualization() {
            const statusDiv = document.getElementById('visualizationStatus');
            let results = [];
            
            try {
                // Chart.jsåˆ©ç”¨å¯èƒ½æ€§ç¢ºèª
                if (typeof Chart !== 'undefined') {
                    results.push('<div class="status success">âœ… Chart.js ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</div>');
                }

                // ã‚°ãƒ©ãƒ•æ›´æ–°æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
                if (typeof EnhancedVisualizationSystem !== 'undefined') {
                    if (typeof EnhancedVisualizationSystem.updateAllCharts === 'function') {
                        // EnhancedVisualizationSystem.updateAllCharts();
                        results.push('<div class="status success">âœ… å¼·åŒ–ã‚°ãƒ©ãƒ•æ›´æ–°æ©Ÿèƒ½</div>');
                    }
                }

                // åç›Šæ€§å¯è¦–åŒ–æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
                if (typeof ProfitabilityVisualizationSystem !== 'undefined') {
                    if (typeof ProfitabilityVisualizationSystem.createProfitabilityDashboard === 'function') {
                        results.push('<div class="status success">âœ… åç›Šæ€§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä½œæˆæ©Ÿèƒ½</div>');
                    }
                }

                finalTestResults.visualization = true;
                
            } catch (error) {
                results.push(`<div class="status error">âŒ å¯è¦–åŒ–ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}</div>`);
                finalTestResults.visualization = false;
            }
            
            statusDiv.innerHTML = results.join('');
        }

        // 6. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ
        function testDashboard() {
            const statusDiv = document.getElementById('dashboardStatus');
            let results = [];
            
            try {
                // åç›Šæ€§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
                if (typeof showProfitabilityDashboardDirect === 'function') {
                    results.push('<div class="status success">âœ… åç›Šæ€§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç›´æ¥è¡¨ç¤ºæ©Ÿèƒ½</div>');
                }

                // ãƒ‡ãƒ¼ã‚¿ç§»è¡Œæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
                if (typeof migrateLearningData === 'function') {
                    try {
                        const migrationResult = migrateLearningData();
                        results.push('<div class="status success">âœ… å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ç§»è¡Œæ©Ÿèƒ½</div>');
                    } catch (migError) {
                        results.push('<div class="status warning">âš ï¸ ãƒ‡ãƒ¼ã‚¿ç§»è¡Œæ©Ÿèƒ½ï¼ˆæ–°è¦ãƒ‡ãƒ¼ã‚¿ã®ãŸã‚æ­£å¸¸ï¼‰</div>');
                    }
                }

                // çµ±åˆã‚·ã‚¹ãƒ†ãƒ åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
                if (typeof switchToEnhancedLearningSystem === 'function') {
                    results.push('<div class="status success">âœ… å¼·åŒ–å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½</div>');
                }

                finalTestResults.dashboard = true;
                
            } catch (error) {
                results.push(`<div class="status error">âŒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}</div>`);
                finalTestResults.dashboard = false;
            }
            
            statusDiv.innerHTML = results.join('');
        }

        // å®Œå…¨çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        function runCompleteTest() {
            testAllSystems();
            setTimeout(() => testIntegration(), 500);
            setTimeout(() => testUpdatedGraphs(), 1000);
            setTimeout(() => testLearning(), 1500);
            setTimeout(() => testVisualization(), 2000);
            setTimeout(() => testDashboard(), 2500);
            
            setTimeout(() => {
                const finalDiv = document.getElementById('finalResults');
                const passedTests = Object.values(finalTestResults).filter(r => r).length;
                const totalTests = Object.keys(finalTestResults).length;
                
                if (passedTests === totalTests) {
                    finalDiv.innerHTML = `
                        <div class="status success">
                            ğŸ‰ å®Œå…¨çµ±åˆã‚·ã‚¹ãƒ†ãƒ å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ (${passedTests}/${totalTests})
                            <br><br><strong>âœ… ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒçµ±åˆã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèªå®Œäº†</strong>
                            <br>ğŸ“Š åç›Šæ€§é‡è¦–ã‚·ã‚¹ãƒ†ãƒ  + åˆ·æ–°ã‚°ãƒ©ãƒ•ã‚·ã‚¹ãƒ†ãƒ  + AIæ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ  + è¡€çµ±ã‚·ã‚¹ãƒ†ãƒ 
                            <br>ğŸš€ ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸ã«çµ±åˆãƒ»å‹•ä½œã—ã¦ã„ã¾ã™ï¼
                        </div>
                    `;
                } else {
                    finalDiv.innerHTML = `
                        <div class="status warning">
                            âš ï¸ ä¸€éƒ¨ãƒ†ã‚¹ãƒˆèª²é¡Œã‚ã‚Š (${passedTests}/${totalTests})
                            <br>è©³ç´°ã¯å„ãƒ†ã‚¹ãƒˆçµæœã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
                        </div>
                    `;
                }
            }, 3000);
        }

        // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
        function showSuccessMessage() {
            const finalDiv = document.getElementById('finalResults');
            finalDiv.innerHTML = `
                <div class="status success">
                    ğŸ¯ <strong>æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†å ±å‘Š</strong><br><br>
                    
                    âœ… <strong>çµ±åˆã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ</strong><br>
                    â€¢ åç›Šæ€§é‡è¦–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæŠ•è³‡åŠ¹ç‡ãƒ»ç©´é¦¬ç™ºè¦‹ãƒ»ROIåˆ†æï¼‰<br>
                    â€¢ åˆ·æ–°ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆTDDå®Ÿè£…ãƒ»å‹•çš„ãƒãƒ£ãƒ¼ãƒˆï¼‰<br>
                    â€¢ AIæ¨å¥¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆClaude APIãƒ»åç›Šæ€§è€ƒæ…®ï¼‰<br>
                    â€¢ è¡€çµ±çµ±åˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆè¡€çµ±è©•ä¾¡ãƒ»é©æ€§åˆ†æï¼‰<br>
                    â€¢ ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ï¼ˆçµ±è¨ˆãƒ»AIãƒ»åç›Šæ€§ï¼‰<br><br>
                    
                    ğŸš€ <strong>åˆ©ç”¨æº–å‚™å®Œäº†</strong><br>
                    ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã§å®Œå…¨çµ±åˆã‚·ã‚¹ãƒ†ãƒ ãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚<br>
                    localhost:8003 ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚
                </div>
            `;
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                testAllSystems();
            }, 1000);
        });
    </script>
</body>
</html>