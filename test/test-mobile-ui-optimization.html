<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>ğŸ“± ãƒ¢ãƒã‚¤ãƒ«UIæœ€é©åŒ–ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px; 
            line-height: 1.6; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .test-container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 15px; 
            padding: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .test-section { 
            margin: 20px 0; 
            padding: 15px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            background: #f9f9f9;
        }
        .test-result { 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px; 
        }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; }
        
        .btn { 
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white; 
            border: none; 
            padding: 12px 20px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 14px;
            margin: 5px;
            min-height: 44px;
            min-width: 100px;
            transition: all 0.2s ease;
        }
        .btn:active { 
            transform: scale(0.95); 
            background: linear-gradient(45deg, #0056b3, #004494);
        }
        
        .touch-test-area {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #28a745, #20c997);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 15px 0;
            touch-action: manipulation;
            user-select: none;
        }
        
        .swipe-demo {
            background: linear-gradient(45deg, #6f42c1, #6610f2);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }
        
        .gesture-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            opacity: 0.7;
        }
        
        .device-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 12px;
        }
        
        .grid-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .grid-item {
            background: linear-gradient(45deg, #fd7e14, #e63946);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .performance-meter {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .performance-bar {
            height: 100%;
            background: linear-gradient(45deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .test-log {
            background: #212529;
            color: #28a745;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin: 15px 0;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆç”¨ */
        @media (max-width: 768px) {
            .test-container { 
                margin: 10px; 
                padding: 15px; 
                border-radius: 10px;
            }
            .grid-demo { 
                grid-template-columns: repeat(2, 1fr); 
                gap: 8px; 
            }
            .btn { 
                width: 100%; 
                margin: 5px 0; 
            }
        }
        
        @media (max-width: 480px) {
            .grid-demo { 
                grid-template-columns: 1fr; 
            }
            .test-section { 
                padding: 10px; 
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ“± ãƒ¢ãƒã‚¤ãƒ«UIæœ€é©åŒ–ãƒ†ã‚¹ãƒˆ</h1>
        
        <div class="test-section">
            <h2>ğŸ” ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±</h2>
            <div class="device-info" id="deviceInfo">
                ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±ã‚’å–å¾—ä¸­...
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ‘† ã‚¿ãƒƒãƒãƒ†ã‚¹ãƒˆ</h2>
            <p>ä»¥ä¸‹ã®ã‚¨ãƒªã‚¢ã‚’ã‚¿ãƒƒãƒã—ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š</p>
            <div class="touch-test-area" id="touchArea">
                ã‚¿ãƒƒãƒã—ã¦ãã ã•ã„
            </div>
            <div class="test-result info" id="touchResult">
                ã‚¿ãƒƒãƒæ“ä½œå¾…æ©Ÿä¸­...
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ‘ˆğŸ‘‰ ã‚¹ãƒ¯ã‚¤ãƒ—ãƒ†ã‚¹ãƒˆ</h2>
            <p>ä»¥ä¸‹ã®ã‚¨ãƒªã‚¢ã§ã‚¹ãƒ¯ã‚¤ãƒ—ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
            <div class="swipe-demo" id="swipeArea">
                <div class="gesture-indicator">ğŸ‘†</div>
                <p>ã“ã“ã§ã‚¹ãƒ¯ã‚¤ãƒ—ã—ã¦ãã ã•ã„</p>
                <p style="font-size: 14px; opacity: 0.8;">â†å·¦å³ã«ã‚¹ãƒ¯ã‚¤ãƒ—â†’</p>
            </div>
            <div class="test-result info" id="swipeResult">
                ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œå¾…æ©Ÿä¸­...
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ¯ ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
            <p>å„ç¨®ãƒœã‚¿ãƒ³ã®ã‚¿ãƒƒãƒåå¿œã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                <button class="btn" onclick="testButton('primary')">ãƒ—ãƒ©ã‚¤ãƒãƒª</button>
                <button class="btn" onclick="testButton('secondary')" style="background: linear-gradient(45deg, #6c757d, #5a6268);">ã‚»ã‚«ãƒ³ãƒ€ãƒª</button>
                <button class="btn" onclick="testButton('success')" style="background: linear-gradient(45deg, #28a745, #1e7e34);">æˆåŠŸ</button>
                <button class="btn" onclick="testButton('warning')" style="background: linear-gradient(45deg, #ffc107, #e0a800);">è­¦å‘Š</button>
                <button class="btn" onclick="testButton('danger')" style="background: linear-gradient(45deg, #dc3545, #c82333);">å±é™º</button>
            </div>
            <div class="test-result info" id="buttonResult">
                ãƒœã‚¿ãƒ³æ“ä½œå¾…æ©Ÿä¸­...
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ“ ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆ</h2>
            <p>ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å¿œç­”æ€§ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
            <div class="grid-demo">
                <div class="grid-item">1</div>
                <div class="grid-item">2</div>
                <div class="grid-item">3</div>
                <div class="grid-item">4</div>
                <div class="grid-item">5</div>
                <div class="grid-item">6</div>
            </div>
            <div class="test-result info" id="responsiveResult">
                ç”»é¢ã‚µã‚¤ã‚º: <span id="screenSize">å–å¾—ä¸­...</span>
            </div>
        </div>
        
        <div class="test-section">
            <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h2>
            <p>ã‚¿ãƒƒãƒåå¿œé€Ÿåº¦ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ€§èƒ½ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
            <button class="btn" onclick="runPerformanceTest()">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div class="performance-meter">
                <div class="performance-bar" id="performanceBar"></div>
            </div>
            <div class="test-result info" id="performanceResult">
                ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ“³ ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
            <p>ãƒ‡ãƒã‚¤ã‚¹ã®ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                <button class="btn" onclick="testVibration('short')">çŸ­ã„ãƒã‚¤ãƒ–</button>
                <button class="btn" onclick="testVibration('medium')">ä¸­ç¨‹åº¦</button>
                <button class="btn" onclick="testVibration('long')">é•·ã„ãƒã‚¤ãƒ–</button>
                <button class="btn" onclick="testVibration('pattern')">ãƒ‘ã‚¿ãƒ¼ãƒ³</button>
            </div>
            <div class="test-result info" id="vibrationResult">
                ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ: <span id="vibrationSupport">ç¢ºèªä¸­...</span>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ“Š ãƒ†ã‚¹ãƒˆãƒ­ã‚°</h2>
            <div class="test-log" id="testLog">
                [INFO] ãƒ¢ãƒã‚¤ãƒ«UIãƒ†ã‚¹ãƒˆé–‹å§‹...\n
            </div>
            <button class="btn" onclick="clearLog()">ãƒ­ã‚°ã‚¯ãƒªã‚¢</button>
            <button class="btn" onclick="exportResults()" style="background: linear-gradient(45deg, #6f42c1, #6610f2);">çµæœã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
        </div>
        
        <div class="test-section">
            <h2>âœ… ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼</h2>
            <div id="testSummary" class="test-result info">
                <p><strong>å®Ÿè¡Œæ¸ˆã¿ãƒ†ã‚¹ãƒˆ:</strong> <span id="completedTests">0</span> / 7</p>
                <p><strong>æˆåŠŸç‡:</strong> <span id="successRate">0%</span></p>
                <p><strong>ç·åˆè©•ä¾¡:</strong> <span id="overallRating">æœªå®Ÿè¡Œ</span></p>
            </div>
        </div>
    </div>

    <script>
        // ãƒ†ã‚¹ãƒˆçŠ¶æ…‹ç®¡ç†
        let testResults = {
            deviceInfo: false,
            touchTest: false,
            swipeTest: false,
            buttonTest: false,
            responsiveTest: false,
            performanceTest: false,
            vibrationTest: false
        };
        
        // ãƒ­ã‚°ç®¡ç†
        function addLog(message, type = 'info') {
            const log = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            const prefix = type === 'error' ? '[ERROR]' : type === 'warning' ? '[WARN]' : '[INFO]';
            log.innerHTML += `${timestamp} ${prefix} ${message}\n`;
            log.scrollTop = log.scrollHeight;
        }
        
        // ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±å–å¾—
        function getDeviceInfo() {
            const info = {
                userAgent: navigator.userAgent,
                screenWidth: screen.width,
                screenHeight: screen.height,
                windowWidth: window.innerWidth,
                windowHeight: window.innerHeight,
                devicePixelRatio: window.devicePixelRatio,
                touchPoints: navigator.maxTouchPoints,
                platform: navigator.platform,
                language: navigator.language,
                cookieEnabled: navigator.cookieEnabled,
                onLine: navigator.onLine
            };
            
            const deviceInfoDiv = document.getElementById('deviceInfo');
            deviceInfoDiv.innerHTML = `
                <strong>åŸºæœ¬æƒ…å ±:</strong><br>
                ç”»é¢ã‚µã‚¤ã‚º: ${info.screenWidth} Ã— ${info.screenHeight}<br>
                ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚º: ${info.windowWidth} Ã— ${info.windowHeight}<br>
                ãƒ‡ãƒã‚¤ã‚¹å¯†åº¦: ${info.devicePixelRatio}<br>
                ã‚¿ãƒƒãƒãƒã‚¤ãƒ³ãƒˆ: ${info.touchPoints}<br>
                ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ : ${info.platform}<br>
                è¨€èª: ${info.language}<br>
                <strong>User Agent:</strong><br>
                ${info.userAgent}
            `;
            
            testResults.deviceInfo = true;
            addLog('ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±ã‚’å–å¾—ã—ã¾ã—ãŸ');
            updateSummary();
        }
        
        // ã‚¿ãƒƒãƒãƒ†ã‚¹ãƒˆ
        function setupTouchTest() {
            const touchArea = document.getElementById('touchArea');
            const touchResult = document.getElementById('touchResult');
            
            let touchCount = 0;
            let lastTouchTime = 0;
            
            touchArea.addEventListener('touchstart', (e) => {
                const currentTime = Date.now();
                const timeDiff = currentTime - lastTouchTime;
                touchCount++;
                lastTouchTime = currentTime;
                
                touchArea.style.background = 'linear-gradient(45deg, #dc3545, #c82333)';
                touchArea.textContent = `ã‚¿ãƒƒãƒ ${touchCount} å›ç›®`;
                
                touchResult.innerHTML = `
                    <strong>ã‚¿ãƒƒãƒæ¤œå‡º:</strong> ${touchCount}å›<br>
                    <strong>åå¿œæ™‚é–“:</strong> ${timeDiff > 0 ? timeDiff + 'ms' : 'åˆå›'}<br>
                    <strong>ã‚¿ãƒƒãƒåº§æ¨™:</strong> (${Math.round(e.touches[0].clientX)}, ${Math.round(e.touches[0].clientY)})
                `;
                
                testResults.touchTest = true;
                addLog(`ã‚¿ãƒƒãƒæ¤œå‡º: ${touchCount}å›ç›®, åº§æ¨™(${Math.round(e.touches[0].clientX)}, ${Math.round(e.touches[0].clientY)})`);
                updateSummary();
            });
            
            touchArea.addEventListener('touchend', () => {
                setTimeout(() => {
                    touchArea.style.background = 'linear-gradient(45deg, #28a745, #20c997)';
                    touchArea.textContent = 'ã‚¿ãƒƒãƒã—ã¦ãã ã•ã„';
                }, 200);
            });
        }
        
        // ã‚¹ãƒ¯ã‚¤ãƒ—ãƒ†ã‚¹ãƒˆ
        function setupSwipeTest() {
            const swipeArea = document.getElementById('swipeArea');
            const swipeResult = document.getElementById('swipeResult');
            
            let startX = 0;
            let startY = 0;
            let startTime = 0;
            
            swipeArea.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                startTime = Date.now();
                swipeArea.style.background = 'linear-gradient(45deg, #fd7e14, #e63946)';
            });
            
            swipeArea.addEventListener('touchend', (e) => {
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                const endTime = Date.now();
                
                const deltaX = endX - startX;
                const deltaY = endY - startY;
                const duration = endTime - startTime;
                
                let direction = 'ä¸æ˜';
                if (Math.abs(deltaX) > Math.abs(deltaY)) {
                    direction = deltaX > 50 ? 'å³ã‚¹ãƒ¯ã‚¤ãƒ—' : deltaX < -50 ? 'å·¦ã‚¹ãƒ¯ã‚¤ãƒ—' : 'çŸ­ã™ã';
                } else {
                    direction = deltaY > 50 ? 'ä¸‹ã‚¹ãƒ¯ã‚¤ãƒ—' : deltaY < -50 ? 'ä¸Šã‚¹ãƒ¯ã‚¤ãƒ—' : 'çŸ­ã™ã';
                }
                
                swipeResult.innerHTML = `
                    <strong>ã‚¹ãƒ¯ã‚¤ãƒ—æ–¹å‘:</strong> ${direction}<br>
                    <strong>ç§»å‹•è·é›¢:</strong> X=${Math.round(deltaX)}px, Y=${Math.round(deltaY)}px<br>
                    <strong>æ‰€è¦æ™‚é–“:</strong> ${duration}ms<br>
                    <strong>é€Ÿåº¦:</strong> ${Math.round(Math.sqrt(deltaX*deltaX + deltaY*deltaY) / duration * 1000)}px/s
                `;
                
                if (Math.abs(deltaX) > 50 || Math.abs(deltaY) > 50) {
                    testResults.swipeTest = true;
                    addLog(`ã‚¹ãƒ¯ã‚¤ãƒ—æ¤œå‡º: ${direction}, è·é›¢(${Math.round(deltaX)}, ${Math.round(deltaY)})`);
                    updateSummary();
                }
                
                setTimeout(() => {
                    swipeArea.style.background = 'linear-gradient(45deg, #6f42c1, #6610f2)';
                }, 200);
            });
        }
        
        // ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆ
        function testButton(type) {
            const buttonResult = document.getElementById('buttonResult');
            const timestamp = new Date().toLocaleTimeString();
            
            buttonResult.innerHTML = `
                <strong>ãƒœã‚¿ãƒ³æŠ¼ä¸‹:</strong> ${type}<br>
                <strong>æ™‚åˆ»:</strong> ${timestamp}<br>
                <strong>çŠ¶æ…‹:</strong> æ­£å¸¸ã«åå¿œã—ã¾ã—ãŸ
            `;
            
            testResults.buttonTest = true;
            addLog(`ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆ: ${type}ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚Œã¾ã—ãŸ`);
            updateSummary();
            
            // ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            if ('vibrate' in navigator) {
                navigator.vibrate(50);
            }
        }
        
        // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆ
        function setupResponsiveTest() {
            function updateScreenSize() {
                const screenSize = document.getElementById('screenSize');
                const width = window.innerWidth;
                const height = window.innerHeight;
                
                let deviceType = '';
                if (width <= 480) deviceType = 'ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆå°ï¼‰';
                else if (width <= 768) deviceType = 'ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆå¤§ï¼‰';
                else if (width <= 1024) deviceType = 'ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ';
                else deviceType = 'ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—';
                
                screenSize.textContent = `${width} Ã— ${height} (${deviceType})`;
                
                testResults.responsiveTest = true;
                addLog(`ç”»é¢ã‚µã‚¤ã‚ºå¤‰æ›´: ${width}Ã—${height} (${deviceType})`);
                updateSummary();
            }
            
            updateScreenSize();
            window.addEventListener('resize', updateScreenSize);
            window.addEventListener('orientationchange', () => {
                setTimeout(updateScreenSize, 100);
            });
        }
        
        // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
        function runPerformanceTest() {
            const performanceBar = document.getElementById('performanceBar');
            const performanceResult = document.getElementById('performanceResult');
            
            addLog('ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...');
            
            // ã‚¿ãƒƒãƒåå¿œé€Ÿåº¦ãƒ†ã‚¹ãƒˆ
            const startTime = performance.now();
            
            performanceBar.style.width = '20%';
            
            setTimeout(() => {
                performanceBar.style.width = '40%';
                
                // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ€§èƒ½ãƒ†ã‚¹ãƒˆ
                const scrollTest = () => {
                    const scrollStart = performance.now();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    setTimeout(() => {
                        const scrollEnd = performance.now();
                        performanceBar.style.width = '70%';
                        
                        // ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãƒ†ã‚¹ãƒˆï¼ˆæ¦‚ç®—ï¼‰
                        const memoryInfo = performance.memory ? {
                            used: Math.round(performance.memory.usedJSHeapSize / 1024 / 1024),
                            total: Math.round(performance.memory.totalJSHeapSize / 1024 / 1024),
                            limit: Math.round(performance.memory.jsHeapSizeLimit / 1024 / 1024)
                        } : null;
                        
                        performanceBar.style.width = '100%';
                        
                        const endTime = performance.now();
                        const totalTime = Math.round(endTime - startTime);
                        const scrollTime = Math.round(scrollEnd - scrollStart);
                        
                        performanceResult.innerHTML = `
                            <strong>ç·å®Ÿè¡Œæ™‚é–“:</strong> ${totalTime}ms<br>
                            <strong>ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚é–“:</strong> ${scrollTime}ms<br>
                            ${memoryInfo ? `<strong>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡:</strong> ${memoryInfo.used}MB / ${memoryInfo.total}MB<br>` : ''}
                            <strong>è©•ä¾¡:</strong> ${totalTime < 1000 ? 'å„ªç§€' : totalTime < 2000 ? 'è‰¯å¥½' : 'è¦æ”¹å–„'}
                        `;
                        
                        testResults.performanceTest = true;
                        addLog(`ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Œäº†: ${totalTime}ms`);
                        updateSummary();
                    }, 500);
                };
                
                scrollTest();
            }, 500);
        }
        
        // ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
        function testVibration(type) {
            const vibrationResult = document.getElementById('vibrationResult');
            const vibrationSupport = document.getElementById('vibrationSupport');
            
            if ('vibrate' in navigator) {
                vibrationSupport.textContent = 'å¯¾å¿œ';
                vibrationSupport.style.color = '#28a745';
                
                let pattern;
                switch (type) {
                    case 'short': pattern = [50]; break;
                    case 'medium': pattern = [200]; break;
                    case 'long': pattern = [500]; break;
                    case 'pattern': pattern = [100, 50, 100, 50, 200]; break;
                    default: pattern = [100];
                }
                
                navigator.vibrate(pattern);
                
                vibrationResult.innerHTML = `
                    <strong>ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ:</strong> å¯¾å¿œ<br>
                    <strong>å®Ÿè¡Œãƒ‘ã‚¿ãƒ¼ãƒ³:</strong> ${type}<br>
                    <strong>ãƒ‘ã‚¿ãƒ¼ãƒ³å€¤:</strong> [${pattern.join(', ')}]ms
                `;
                
                testResults.vibrationTest = true;
                addLog(`ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ: ${type}ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè¡Œ`);
                updateSummary();
            } else {
                vibrationSupport.textContent = 'éå¯¾å¿œ';
                vibrationSupport.style.color = '#dc3545';
                
                vibrationResult.innerHTML = `
                    <strong>ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ:</strong> éå¯¾å¿œ<br>
                    <strong>ãƒ‡ãƒã‚¤ã‚¹:</strong> ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã¯ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“
                `;
                
                addLog('ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³éå¯¾å¿œãƒ‡ãƒã‚¤ã‚¹', 'warning');
            }
        }
        
        // ãƒ†ã‚¹ãƒˆã‚µãƒãƒªãƒ¼æ›´æ–°
        function updateSummary() {
            const completedCount = Object.values(testResults).filter(result => result).length;
            const totalTests = Object.keys(testResults).length;
            const successRate = Math.round((completedCount / totalTests) * 100);
            
            document.getElementById('completedTests').textContent = completedCount;
            document.getElementById('successRate').textContent = successRate + '%';
            
            let rating;
            if (successRate >= 90) rating = 'å„ªç§€ ğŸ†';
            else if (successRate >= 70) rating = 'è‰¯å¥½ âœ…';
            else if (successRate >= 50) rating = 'æ™®é€š âš ï¸';
            else rating = 'è¦æ”¹å–„ âŒ';
            
            document.getElementById('overallRating').textContent = rating;
        }
        
        // ãƒ­ã‚°ã‚¯ãƒªã‚¢
        function clearLog() {
            document.getElementById('testLog').innerHTML = '[INFO] ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ...\n';
            addLog('ãƒ†ã‚¹ãƒˆãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
        }
        
        // çµæœã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
        function exportResults() {
            const results = {
                timestamp: new Date().toISOString(),
                deviceInfo: document.getElementById('deviceInfo').textContent,
                testResults: testResults,
                summary: {
                    completed: Object.values(testResults).filter(r => r).length,
                    total: Object.keys(testResults).length,
                    successRate: Math.round((Object.values(testResults).filter(r => r).length / Object.keys(testResults).length) * 100)
                }
            };
            
            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `mobile-ui-test-results-${new Date().toISOString().slice(0,10)}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            addLog('ãƒ†ã‚¹ãƒˆçµæœã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ');
        }
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            addLog('ãƒ¢ãƒã‚¤ãƒ«UIãƒ†ã‚¹ãƒˆã‚’åˆæœŸåŒ–ä¸­...');
            
            getDeviceInfo();
            setupTouchTest();
            setupSwipeTest();
            setupResponsiveTest();
            
            // ãƒã‚¤ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œãƒã‚§ãƒƒã‚¯
            const vibrationSupport = document.getElementById('vibrationSupport');
            if ('vibrate' in navigator) {
                vibrationSupport.textContent = 'å¯¾å¿œ';
                vibrationSupport.style.color = '#28a745';
            } else {
                vibrationSupport.textContent = 'éå¯¾å¿œ';
                vibrationSupport.style.color = '#dc3545';
            }
            
            addLog('ãƒ¢ãƒã‚¤ãƒ«UIãƒ†ã‚¹ãƒˆã®åˆæœŸåŒ–ãŒå®Œäº†ã—ã¾ã—ãŸ');
            addLog('å„ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦UIã®æœ€é©åŒ–çŠ¶æ³ã‚’ç¢ºèªã—ã¦ãã ã•ã„');
        });
    </script>
</body>
</html>