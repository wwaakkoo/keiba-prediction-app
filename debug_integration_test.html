<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ãƒ‡ãƒãƒƒã‚°çµ±åˆãƒ†ã‚¹ãƒˆ</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .result { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 3px; }
        .success { color: green; }
        .error { color: red; }
        .warning { color: orange; }
        .log { 
            background: #f8f9fa; 
            padding: 10px; 
            border-radius: 3px; 
            font-family: monospace; 
            font-size: 12px; 
            white-space: pre-wrap; 
            max-height: 400px; 
            overflow-y: auto; 
        }
    </style>
</head>
<body>
    <h1>ğŸ” ãƒ‡ãƒãƒƒã‚°çµ±åˆãƒ†ã‚¹ãƒˆ</h1>
    
    <button onclick="testDataConverter()">DataConverterè©³ç´°ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
    <div id="results" class="result"></div>

    <script src="js/dataConverter.js"></script>
    <script>
        function testDataConverter() {
            const resultsDiv = document.getElementById('results');
            
            console.log('=== DataConverterãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆé–‹å§‹ ===');
            
            // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
            const testData = `1\t1\t
æ¶ˆ
ãƒ­ãƒ¼ãƒ‰ã‚«ãƒŠãƒ­ã‚¢
ãƒ™ãƒ©ã‚¸ã‚ªã‚ªãƒšãƒ©
ã‚¨ã‚¢ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ³
(ãƒãƒ¼ãƒ“ãƒ³ã‚¸ãƒ£ãƒ¼)
æ —æ±ãƒ»ä¸Šæ‘  
å…ˆä¸­9é€±
510kg(+2)
4.0 (1äººæ°—)
ç‰¡5é¹¿

æ¨ªå±±å’Œ
58.0\t
1\t2\t
æ¶ˆ
ãƒ‰ã‚¥ãƒ©ãƒ¡ãƒ³ãƒ†
ãƒ‰ã‚¥ãƒ¬ãƒƒãƒ„ã‚¡
ãƒ¢ã‚¢ã‚¶ãƒ³ã‚»ã‚¤ã‚¯ãƒªãƒƒãƒ‰
(More Than Ready)
ç¾æµ¦ãƒ»å°¾é–¢  
å…ˆä¸­9é€±
468kg(å‰è¨ˆä¸)
6.7 (4äººæ°—)
ç‰¡5é’é¹¿

æ¨ªå±±æ­¦
58.0\t`;

            console.log('ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿:');
            console.log(testData);
            console.log('ãƒ‡ãƒ¼ã‚¿é•·:', testData.length);
            
            try {
                console.log('DataConverter.parseNetkeibaData()ã‚’å‘¼ã³å‡ºã—ä¸­...');
                const result = DataConverter.parseNetkeibaData(testData);
                console.log('parseNetkeibaDataçµæœ:', result);
                
                let html = '<h3>ğŸ“Š DataConverterãƒ‡ãƒãƒƒã‚°çµæœ</h3>';
                html += `<p><strong>è§£æã•ã‚ŒãŸé¦¬æ•°:</strong> ${result.horses ? result.horses.length : 0}é ­</p>`;
                
                if (result.horses && result.horses.length > 0) {
                    result.horses.forEach((horse, index) => {
                        html += `
                            <div style="border: 1px solid #ddd; padding: 10px; margin: 10px 0;">
                                <h4>é¦¬${index + 1}</h4>
                                <p><strong>é¦¬å:</strong> ${horse.name || 'æœªæŠ½å‡º'}</p>
                                <p><strong>çˆ¶:</strong> ${horse.sire || 'æœªæŠ½å‡º'}</p>
                                <p><strong>æ¯:</strong> ${horse.dam || 'æœªæŠ½å‡º'}</p>
                                <p><strong>æ¯çˆ¶:</strong> ${horse.damSire || 'æœªæŠ½å‡º'}</p>
                                <p><strong>bloodlineStep:</strong> ${horse.bloodlineStep || 'ãªã—'}</p>
                                <p><strong>nextIndex:</strong> ${horse.nextIndex || 'ãªã—'}</p>
                            </div>
                        `;
                    });
                } else {
                    html += '<p class="error">âŒ é¦¬ãƒ‡ãƒ¼ã‚¿ãŒæŠ½å‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ</p>';
                }
                
                // ç”Ÿãƒ‡ãƒ¼ã‚¿å‡ºåŠ›
                html += '<h4>ğŸ”§ ç”Ÿãƒ‡ãƒ¼ã‚¿</h4>';
                html += `<div class="log">${JSON.stringify(result, null, 2)}</div>`;
                
                resultsDiv.innerHTML = html;
                
            } catch (error) {
                console.error('DataConverterãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼:', error);
                resultsDiv.innerHTML = `
                    <div class="error">
                        <h3>âŒ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ</h3>
                        <p>${error.message}</p>
                        <div class="log">${error.stack}</div>
                    </div>
                `;
            }
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®æƒ…å ±ã‚’è¡¨ç¤º
        document.addEventListener('DOMContentLoaded', function() {
            console.log('=== ãƒ‡ãƒãƒƒã‚°ç’°å¢ƒã®ç¢ºèª ===');
            console.log('DataConverter:', typeof DataConverter);
            console.log('DataConverter.parseNetkeibaData:', typeof DataConverter?.parseNetkeibaData);
            console.log('DataConverter.isSireName:', typeof DataConverter?.isSireName);
            console.log('DataConverter.isPotentialSire:', typeof DataConverter?.isPotentialSire);
            console.log('DataConverter.isPotentialHorseName:', typeof DataConverter?.isPotentialHorseName);
            console.log('DataConverter.isPotentialMare:', typeof DataConverter?.isPotentialMare);
        });
    </script>
</body>
</html>