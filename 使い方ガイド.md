# 🎯 アプリの概要
このアプリは、競馬の出馬表データを入力して、機械学習による予測を行うWebアプリケーションです。モバイル対応で、スマートフォンでも使いやすく設計されています。

## 📱 主な機能

### 1. データ入力
- **手動入力**: 各馬の情報を個別に入力
- **一括テキスト入力**: netkeibaの出馬表データをコピー&ペーストで一括入力
- **CSV形式入力**: 構造化されたデータをCSV形式で入力

### 2. 予測機能
- **機械学習予測**: 入力されたデータを基にAIが予測
- **複数予測モデル**: 異なるアルゴリズムによる予測結果
- **信頼度表示**: 予測の信頼度をパーセンテージで表示

### 3. モバイル対応
- **レスポンシブデザイン**: スマートフォンに最適化
- **モバイル簡易モード**: 小画面での使いやすさを重視
- **タッチ操作**: タッチスクリーンに最適化されたUI

## 🚀 はじめに
このアプリは競馬の予測を行うWebアプリです。携帯でも快適に使えるように最適化されています。

## 🌐 アクセス方法

### 方法1: GitHub Pages（推奨・外で使う場合）
**URL**: https://wwaakkoo.github.io/keiba-prediction-app/

- ✅ **どこからでもアクセス可能**
- ✅ **WiFi不要**（携帯のデータ通信でOK）
- ✅ **インストール不要**
- ✅ **自動更新**

### 方法2: ローカルサーバー（自宅で使う場合）

#### 1. PCでサーバーを起動
```bash
# 方法A: Pythonサーバー（Pythonがインストール済みの場合）
python -m http.server 8000

# 方法B: Node.jsサーバー（Node.jsがインストール済みの場合）
npm install
npm start

# 方法C: バッチファイル（Windows）
start_server.bat
```

#### 2. PCのIPアドレスを確認
```bash
# Windows
ipconfig

# Mac/Linux
ifconfig
```

#### 3. 携帯でアクセス
- 同じWiFiに接続
- ブラウザで `http://[PCのIPアドレス]:3000` にアクセス
- 例: `http://192.168.1.100:3000`

## 📱 携帯での使い方

### 1. アプリを開く
- 上記の方法でアプリにアクセス
- 携帯のブラウザ（Safari、Chrome等）で開きます

### 2. 携帯簡易モードに切り替え
- 画面上部の「📱 携帯簡易モード」ボタンをタップ
- 画面が簡易モードに切り替わります

### 3. 馬を追加
- 「➕ 馬を追加」ボタンをタップ
- 馬名、オッズ、前走着順、騎手を入力
- 年齢と体重変化を簡易入力で設定

### 4. 予測実行
- 「🚀 予測開始」ボタンをタップ
- 予測結果が表示されます

### 5. 学習データ入力（重要！）
- 実際のレース結果を入力
- 「🧠 結果を学習に反映」で学習実行
- これで次回の予測精度が向上します

## 💡 携帯でのコツ

### 入力のコツ
- **横画面**で使うと入力しやすい
- **オッズ**は小数点も入力可能（例：4.5）
- **前走着順**は1〜10の数字で入力
- **騎手名**は一部でも認識します

### 予測結果の活用
- **スコア**が高い馬ほど期待値が高い
- **勝率・複勝率**を参考にする
- **期待値**がプラスの馬券を狙う
- 結果は**スクリーンショット**で保存

### 学習のコツ
- 毎回のレース結果を必ず入力
- 的中した馬も外れた馬も学習に反映
- 学習データが増えるほど精度が向上

## 🎯 推奨使い方

### 初心者向け
1. サンプルデータで練習
2. 簡単なレースから始める
3. 学習データをしっかり入力
4. 結果を記録して精度を確認

### 上級者向け
1. 詳細前走情報も入力
2. 様々な条件のレースを学習
3. 買い目推奨を参考にする
4. 期待値重視で投票

## 🚀 使い方

### Step 1: データ入力
1. **netkeibaから出馬表をコピー**
   - netkeibaの出馬表ページを開く
   - 出馬表のテキスト部分を選択してコピー

2. **アプリに貼り付け**
   - 「一括テキスト入力」タブを選択
   - 「生データを貼り付け」欄にコピーしたデータを貼り付け
   - 「データ変換」ボタンをクリック

3. **データ確認**
   - 変換されたデータが各馬のカードに表示される
   - 必要に応じて個別に修正

### Step 2: レース基本情報の設定
- **レース名**: 例「大阪杯」
- **開催日**: YYYY-MM-DD形式
- **コース**: 中山、東京、京都、阪神など
- **距離**: 1000m〜3200m
- **馬場種別**: 芝、ダート
- **馬場状態**: 良、稍重、重、不良

### Step 3: 予測実行
1. **予測ボタンをクリック**
2. **結果を確認**
   - 各馬の予測順位
   - 信頼度
   - 推奨馬券

## 📊 netkeibaデータ形式対応

### 対応データ形式
- **基本情報**: 馬名、オッズ、人気、騎手、年齢、馬体重変化
- **前走情報**: 着順、タイム、馬場状態、騎手、オッズ、人気、頭数
- **レース情報**: 日付、コース、距離、馬場種別、馬場状態

### データ変換の特徴
- **自動認識**: netkeibaの形式を自動で認識
- **詳細解析**: 前走情報を詳細に解析
- **エラー処理**: データ形式エラーを検出して通知

## 🎲 予測アルゴリズム

### 使用モデル
1. **ランダムフォレスト**: 複数の決定木による予測
2. **勾配ブースティング**: 段階的な学習による予測
3. **ニューラルネットワーク**: 深層学習による予測

### 特徴量
- **基本情報**: オッズ、人気、年齢、騎手
- **前走情報**: 着順、タイム、馬場状態
- **レース情報**: 距離、馬場種別、休養期間

## 📱 モバイルでの使い方

### モバイル簡易モード
- **シンプルUI**: 小画面に最適化されたインターフェース
- **大きなボタン**: タッチ操作に適したサイズ
- **スクロール最適化**: 縦スクロールでの操作

### 操作のコツ
1. **横画面使用**: データ入力時は横画面が便利
2. **ズーム機能**: 必要に応じてピンチズーム
3. **ブックマーク**: ホーム画面に追加して素早くアクセス

## ⚠️ 注意事項

### データについて
- **最新データ使用**: 必ず最新の出馬表データを使用
- **オッズ確認**: オッズは変動するため、最新のものを確認
- **前走情報**: 前走情報は正確に入力することが重要

### 予測について
- **参考程度**: 予測結果は参考程度に使用
- **自己責任**: 馬券購入は自己責任で行う
- **確実性なし**: 100%確実な予測は不可能

### セキュリティ
- **ローカル処理**: すべてのデータ処理はブラウザ内で実行
- **外部送信なし**: 個人データは外部に送信されません
- **プライバシー保護**: 入力データはローカルに保存

## 🔧 トラブルシューティング

### よくある問題

**Q: データ変換が失敗する**
A: netkeibaのデータ形式を確認してください。最新の形式に対応しています。

**Q: 予測結果が表示されない**
A: 最低3頭以上の馬データが必要です。データを追加してください。

**Q: モバイルで見にくい**
A: モバイル簡易モードを有効にしてください。

**Q: データが消える**
A: ブラウザのローカルストレージに保存されます。ブラウザの設定を確認してください。

## 📞 サポート

### 技術的な問題
- **ブラウザ対応**: Chrome、Safari、Firefox、Edge対応
- **JavaScript有効**: JavaScriptを有効にしてください
- **ローカルストレージ**: ブラウザのローカルストレージを有効にしてください

### データ形式について
- **netkeiba形式**: 最新のnetkeiba出馬表形式に対応
- **CSV形式**: カスタムCSV形式にも対応
- **手動入力**: 個別の手動入力も可能

---



**免責事項**: このアプリケーションは競馬予測の学習・研究目的で作成されています。実際の馬券購入における損失について、開発者は一切の責任を負いません。
